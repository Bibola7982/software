<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hospital Final Bill Form</title>
  <style>
    @page {
      size: A4;
      margin: 4cm 1.5cm 1cm 1.5cm;
    }

    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #e9f3ff;
      margin: 0;
      padding: 0;
      line-height: 1.5;
    }

    .bill-container {
      width: 190mm;
      margin: 30px auto;
      background: #fff;
      padding: 20px 30px;
      box-sizing: border-box;
      border-radius: 8px;
      background-image: url('your-background-image.png'); /* Replace with actual path */
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      page-break-inside: avoid;
      box-shadow: 0 0 6px rgba(0, 0, 0, 0.1);
    }

    h2 {
      text-align: center;
      color: #004aad;
      font-weight: bold;
      margin-bottom: 30px;
      font-size: 22px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .section-title {
      font-weight: bold;
      color: #004aad;
      border-bottom: 2px solid #004aad;
      margin-bottom: 10px;
      padding-bottom: 5px;
      font-size: 16px;
    }

    .row {
      display: flex;
      gap: 15px;
      margin-bottom: 12px;
      flex-wrap: wrap;
      align-items: flex-end;
    }

    .col {
      flex: 1;
      min-width: 120px;
    }

    label {
      font-weight: 600;
      font-size: 14px;
      color: #333;
      display: block;
      margin-bottom: 5px;
    }

    input,
    select {
      width: 100%;
      padding: 7px 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
      box-sizing: border-box;
      background: #fdfdfd;
    }

    .relation-wrap {
      display: flex;
      gap: 3px;
      align-items: flex-end;
    }

    .relation-wrap select {
      width: 90px;
    }

    .relation-wrap input {
      flex: 1;
      min-width: 250px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      font-size: 14px;
    }

    th, td {
      border: 1px solid #d1d1d1;
      padding: 10px;
      text-align: left;
    }

    th {
      background: #f3f6fb;
      color: #004aad;
      font-weight: bold;
    }

    .add-row {
      display: flex;
      gap: 15px;
      margin-top: 15px;
      flex-wrap: wrap;
      align-items: flex-end;
    }

    .add-row select,
    .add-row input {
      flex: 1;
      min-width: 120px;
    }

    .unit-input {
      max-width: 80px;
    }

    .amount-input {
      max-width: 120px;
    }

    .add-btn {
      background-color: #004aad;
      color: white;
    }

    .remove-btn {
      background-color: #d9534f;
      color: white;
    }

    .print-btn {
      background-color: #28a745;
      color: white;
      float: right;
      margin-top: 10px;
    }

    button {
      padding: 8px 15px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
    }

    .total-section {
      text-align: right;
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
      color: #000;
    }

    .total-text {
      text-align: center;
      font-style: italic;
      margin-top: 10px;
      color: #004aad;
      font-size: 14px;
    }

    .signature {
      text-align: right;
      margin-top: 50px;
      font-weight: bold;
      font-size: 14px;
    }

    /* ===== PRINT STYLES ===== */
    @media print {
      html, body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background: white;
      }

      .no-print {
        display: none !important;
      }

      .bill-container {
        position: static !important;
        padding-top: 4cm !important;
        margin: 0 !important;
        width: 100%;
        height: auto !important;
        max-height: none !important;
        overflow: hidden;
        background-image: url('your-background-image.png');
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        page-break-inside: avoid;
        break-inside: avoid;
        box-shadow: none;
    
        transform-origin: top left;
      }

      table {
        margin-top: 10px !important;
        font-size: 12px !important;
      }

      table th, table td {
        padding: 4px 6px !important;
        font-size: 12px !important;
      }

      .row {
        margin-bottom: 8px !important;
      }

      .section-title {
        margin-bottom: 6px !important;
        padding-bottom: 2px !important;
        font-size: 14px !important;
      }

      .add-row {
        display: none !important;
      }

      .total-section {
        font-size: 16px !important;
        margin-top: 10px !important;
      }

      .total-text {
        font-size: 12px !important;
        margin-top: 5px !important;
      }

      .signature {
        margin-top: 30px !important;
        font-size: 13px !important;
      }
    }
  </style>
</head>
<body>
  <div class="bill-container">
    <h2>Hospital TOTAL BILL BREAK-UP</h2>

    <div class="section-title">Patient Details</div>
    <div class="row">
      <div class="col">
        <label>Patient Name</label>
        <input type="text" id="name" />
      </div>
      <div class="col">
        <label>Relation</label>
        <div class="relation-wrap">
          <select id="relationType">
            <option value="S/O">S/O</option>
            <option value="D/O">D/O</option>
            <option value="W/O">W/O</option>
          </select>
          <input type="text" id="relationName" placeholder="Enter name" />
        </div>
      </div>
      <div class="col no-print" style="text-align:right;">
        <button class="print-btn" onclick="window.print()">üñ®Ô∏è Print</button>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <label>IPD</label>
        <input type="text" id="ipd" />
      </div>
      <div class="col">
        <label>UHID</label>
        <input type="text" id="uhid" />
      </div>
      <div class="col">
        <label for="department">Department</label>
        <select id="department" name="department">
          <option value="">-- Select Department --</option>
          <option value="cardiology">Cardiology</option>
          <option value="neurology">Neurology</option>
          <option value="orthopedics">Orthopedics</option>
          <option value="general">General Medicine</option>
          <option value="icu">ICU</option>
          <option value="emergency">Emergency</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <label for="doa-date">D.O.A (Date)</label>
        <input type="date" id="doa-date" name="doa-date">
      </div>
      <div class="col">
        <label for="doa-time">D.O.A (Time)</label>
        <input type="time" id="doa-time" name="doa-time">
      </div>
      <div class="col">
        <label for="dod-date">D.O.D (Date)</label>
        <input type="date" id="dod-date" name="dod-date">
      </div>
      <div class="col">
        <label for="dod-time">D.O.D (Time)</label>
        <input type="time" id="dod-time" name="dod-time">
      </div>
    </div>

    <div class="section-title" style="margin-top:20px;">Billing Charges</div>
    <table>
      <thead>
        <tr>
          <th>Particulars</th>
          <th>Unit</th>
          <th>Amount (‚Çπ)</th>
          <th class="no-print">Action</th>
        </tr>
      </thead>
      <tbody id="billBody"></tbody>
    </table>

    <div class="add-row no-print">
      <select id="particularSelect"> <option value="">Select Particular</option> <option>Admission Charge</option> <option>Emergency Charge</option> <option>ICU Rent Charge</option> <option>ICU WITH VENT. CHARGE</option> <option>MEDICAL BILL CHARGE</option> <option>Room RentCharge</option> <option>Consultation fee 1</option> <option>Consultation fee 2</option> <option>Consultation fee 3</option> <option>Consultation fee 4</option> <option>Operation Charge 1</option> <option>Operation Charge 2</option> <option>Operation Charge 3</option> <option>Anaesthesia Charge</option> <option>OT Charges</option> <option>Intubation Charge</option> <option>Orthopedic Implants Charge</option> <option>Implant (IOL)</option> <option>Ventilator Charge</option> <option>Monitor Charges</option> <option>Infusion Pump Charges</option> <option>Oxygen Charge</option> <option>Cooler/Heater/AC Charge</option> <option>Nurshing Charges</option> <option>CMO Charges</option> <option>Dressing Charges</option> <option>Blood Transfusion Charge</option> <option>Center Line</option> <option>MLC Charges</option> <option>Work up Charge</option> <option>ECG Charge</option> <option>Lab Charge</option> <option>Xray Charge</option> <option>Ultrasound</option> <option>Dental Charge</option> <option>Others</option>
      </select>
      <input type="number" id="unitInput" class="unit-input" placeholder="Unit" value="1" min="1">
      <input type="number" id="amountInput" class="amount-input" placeholder="Amount">
      <button class="add-btn" id="addRow">Add</button>
    </div>

    <div class="total-section">
      TOTAL AMOUNT = ‚Çπ <span id="totalAmount">0.00</span> /-
    </div>
    <div class="total-text" id="amountInWords">(ZERO ONLY)</div>
    <div class="signature">Auth. Signature</div>
  </div>

  <script>
    const addBtn = document.getElementById('addRow');
    const billBody = document.getElementById('billBody');
    const totalAmount = document.getElementById('totalAmount');
    const amountInWords = document.getElementById('amountInWords');

    function numberToWords(num) {
      const a = ["", "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine", "Ten",
        "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen",
        "Eighteen", "Nineteen"];
      const b = ["", "", "Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"];

      const inWords = (n) => {
        if (n < 20) return a[n];
        if (n < 100) return b[Math.floor(n / 10)] + (n % 10 ? " " + a[n % 10] : "");
        if (n < 1000) return a[Math.floor(n / 100)] + " Hundred" + (n % 100 ? " " + inWords(n % 100) : "");
        if (n < 100000) return inWords(Math.floor(n / 1000)) + " Thousand" + (n % 1000 ? " " + inWords(n % 1000) : "");
        if (n < 10000000) return inWords(Math.floor(n / 100000)) + " Lakh" + (n % 100000 ? " " + inWords(n % 100000) : "");
        return inWords(Math.floor(n / 10000000)) + " Crore" + (n % 10000000 ? " " + inWords(n % 10000000) : "");
      };

      return inWords(num).toUpperCase() + " ONLY";
    }

    function recalcTotal() {
      let total = 0;
      document.querySelectorAll('#billBody tr').forEach(row => {
        total += parseFloat(row.children[2].textContent) || 0;
      });
      totalAmount.textContent = total.toFixed(2);
      amountInWords.textContent = total > 0
        ? `( ${numberToWords(Math.round(total))} )`
        : "(ZERO ONLY)";
    }

    addBtn.addEventListener('click', () => {
      const part = document.getElementById('particularSelect').value;
      const unit = parseFloat(document.getElementById('unitInput').value);
      const amt = parseFloat(document.getElementById('amountInput').value);

      if (!part) return alert("Please select a particular.");
      if (!unit || unit <= 0) return alert("Please enter valid unit.");
      if (!amt || amt <= 0) return alert("Please enter valid amount.");

      const total = unit * amt;

      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${part}</td>
        <td>${unit}</td>
        <td>${total.toFixed(2)}</td>
        <td class="no-print"><button class="remove-btn">Remove</button></td>
      `;
      billBody.appendChild(tr);

      tr.querySelector(".remove-btn").addEventListener("click", () => {
        tr.remove();
        recalcTotal();
      });

      recalcTotal();

      document.getElementById('unitInput').value = '1';
      document.getElementById('amountInput').value = '';
      document.getElementById('particularSelect').value = '';
    });
  </script>
</body>
</html>
